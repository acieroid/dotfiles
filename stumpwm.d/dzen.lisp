(in-package :stumpwm)

(defparameter *dzen-bg* "#000")
(defparameter *dzen-fg* "#fff")
(defparameter *dzen-height* 15)
(defparameter *dzen-font* "fixed")
(defparameter *dzen-alignment* "l") ;; l for left, r for right, c for center
(defparameter *dzen-separator* " | ")
(defparameter *dzen-format*
  '((:exec "date")))

(defun interpret-dzen-format (fmt)
  (case (first fmt)
    (:group (let ((res (mapcar #'interpret-dzen-format (rest fmt))))
              (format nil "狺捩绋麒轸濠蝈螬┅ê屮邈戾舄è蝈蝓瞽箬屐飙泔眄犷箦泔钿骓舂舂铄黛轭瀛痫痫箝糸镱＼五黛轭蝈螬┅ㄩ铄黛轭瀛痫篚怏羼蝈铄黛轭瀛痫螬蝈螬┅ê泔祜ㄦ矧磲铋⑥骁岍箦泔钿骓舂┅ê骢ㄡ痧禊箦泔钿骓舂ㄣ滗骓舂┅ê篝蜷铉箦泔钿骓舂ê殂镱ㄦ矧磲铋⑥楱岍箦泔钿骓舂┅ê簌筱綮ㄩ铘弪痱弭潸孱骘蝽狒啜哄邈ㄦ矧磲铋Ⅲ筱綮沲洄娌箦泔钿骓舂┅┅┅ㄤ彐躅珏舡盹溴扉铄篝īㄦ矧磲铋ㄣ镱汜狺［夯潸孱箦疳蜥麸颡蔺磲疸狎＇轭翦蝠蝈舡潸孱骘蝽狒潸孱骘蝽狒┅戾è潸孱痱镢弩铋飑ㄤ彐躅灬躅汨潸孱ī筲翳蝈徜喉犭瀛翳蝈徜灬礅溽ī蝈箝瀛桢徜潸孱桢殓梏ㄨ遽洵鏖漪ㄣ躜蝈铘桢徜┅ōㄨ遽洵桢殓梏ㄣ躜蝈铘桢徜┅潸孱桢殓梏┅戾è痱镢弩筲屮艉蝓瞽痱镧蜥潸孱并扉篝忡潸孱忡骁潸孱骁琚ㄦ矧磲铋洧潸孱桢殓梏骖潸孱骘铘翎潸孱犰殓铐孱舄洪铕豸后趄遽瑚衢铋后遽蜚猴豸瘐篝犷溽蜾秕麴豸┅箦翩潸孱痱镢弩痱镢弩螬换韵南麒孱潸孱珏腴祆邃篝镳翳祜镳鏖翳镳孱篝蝈犴ㄩ铕豸筲屮艉痱镢弩蟓轭瘐痱镢弩螬ㄨ犷潇弪汜箦祜镳麒殪筲屮艉痱镢弩蟓犰轹瀛痱镢弩螬滹痱轭ㄧ弭盹溴扉铄篝颟轭瘐舂翦蝠蜷轭瘐舂ㄦ矧沐秕麴豸轭瘐舂箪邋暴筲轭艉箝眇戾篝蝈犴弪蝻ī箦翩潸孱痱镢弩铋飑┅┅┅ㄤ彐躅腴祆潸孱ī麒孱潸孱痱镢弩换渝钿翳耘彝箝珙犰筲屮艉痱镢弩蟓腴祆潸孱痱镢弩钡箦翩潸孱痱镢弩铋飑换韵南滹箫礤翳轭沆遽铄蝈箝瀛桢徜辈赴卑泊┅ㄤ彐躅麸珑戾潸孱īㄩ潸孱痱镢弩腴祆潸孱博灬躅汨潸孱博┅ㄤ彐躅潸孱痱镢弩ī潸孱痱镢弩螬ㄤ彐泔眄犷潸孱īī⑻狨钽矧腴祆潸孱麸珑戾潸孱博